---
name: Enforce Event Validation in Scraper
status: open
created: 2025-10-05T15:25:19Z
updated: 2025-10-05T15:51:25Z
github: https://github.com/redbear4013/engaged-app-ccpm/issues/27
depends_on: []
parallel: true
conflicts_with: []
---

# Task 004: Enforce Event Validation in Scraper

## Priority
P1

## Description
Enable event classification and filtering in the universal scraper to prevent invalid events (navigation menus, static pages) from being inserted into the database.

## Acceptance Criteria
- [ ] Scraper classifies events as event/attraction/invalid
- [ ] Invalid events (navigation, menus) are filtered before database insert
- [ ] Rejected events are logged with reasons
- [ ] Only valid events with dates, venues, and descriptions are saved

## Technical Details

### Implementation Steps
1. Enable event classification in `universal-scraper.ts`
2. Add pre-insert validation using existing validation rules
3. Filter out titles containing: Home, Menu, Navigation, Contact
4. Require minimum title length (10+ chars), description (50+ chars)
5. Log rejected events for debugging
6. Test with Broadway and MGTO sources

### Files Affected
- `src/services/scraping/universal-scraper.ts`
- `src/workers/event-scraper.ts`

### Validation Rules
- Title minimum length: 10 characters
- Description minimum length: 50 characters
- Excluded title patterns: Home, Menu, Navigation, Contact
- Required fields: date, venue, description

## Effort Estimate
L (12-16 hours)

## Notes
- This task is independent from emergency fixes and can run in parallel
- Validation logic should be reusable for future scrapers
- Rejected events should be logged for analysis and debugging
