---
name: Fix Calendar API 400 Errors
status: open
created: 2025-10-05T15:25:19Z
updated: 2025-10-05T15:51:25Z
github: https://github.com/redbear4013/engaged-app-ccpm/issues/24
depends_on: []
parallel: true
conflicts_with: []
priority: P0
effort: M (8-12 hours)
---

# Fix Calendar API 400 Errors

## Description

Fix the calendar API endpoint returning 400 Bad Request errors. The calendar API is currently failing to return user events, blocking a core feature of the application.

## Acceptance Criteria

- [ ] Calendar API returns 200 status code
- [ ] Authenticated users can fetch their calendar events
- [ ] Error logs show actionable information if failures occur
- [ ] API validates authentication properly

## Technical Details

- Add comprehensive request logging to `/api/calendar/events/route.ts`
- Replace `getSession()` with `getUser()` for secure authentication
- Fix request parameter validation
- Test with authenticated requests using real user tokens
- Files affected: `src/app/api/calendar/events/route.ts`

## Effort Estimate

M (8-12 hours)

## Priority

P0 - Critical bug blocking core functionality

## Parallel Execution

This task can be executed in parallel with other tasks as it has no dependencies.

## Dependencies

None

## Conflicts

None
