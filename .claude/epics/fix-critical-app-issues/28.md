---
name: Database Cleanup - Mark Invalid Events
status: open
created: 2025-10-05T15:25:19Z
updated: 2025-10-05T15:51:25Z
github: https://github.com/redbear4013/engaged-app-ccpm/issues/28
depends_on: []
parallel: false
conflicts_with: []
---

# Task 005: Database Cleanup - Mark Invalid Events

## Priority
P1

## Description
Create and run SQL script to mark invalid events (navigation menus, static pages) currently in the database. This is a reversible cleanup operation that marks events as invalid rather than deleting them.

## Acceptance Criteria
- [ ] SQL script identifies navigation menus, static pages, and invalid content
- [ ] Dry-run mode shows what would be marked without making changes
- [ ] Invalid events are marked with event_type='invalid' (reversible)
- [ ] Valid events are preserved and untouched
- [ ] Script logs count of events marked invalid

## Technical Details

### Implementation Steps
1. Create cleanup SQL script in `supabase/migrations/`
2. Identify events with titles like: Home, Menu, Navigation, Contact
3. Mark events missing dates, venues, or descriptions
4. Run dry-run first to verify identification logic
5. Execute cleanup and verify results
6. Document results and counts

### Files Affected
- New migration file in `supabase/migrations/`
- `events` table

### Invalid Event Patterns
- Titles containing: Home, Menu, Navigation, Contact, About, Privacy
- Title length < 10 characters
- Description length < 50 characters
- Missing required fields: date, venue, description

## Effort Estimate
S (4-6 hours)

## Notes
- Sequential task - run after understanding current data state
- Uses reversible marking (event_type='invalid') not deletion
- Dry-run required before actual execution
- Log all changes for audit trail
