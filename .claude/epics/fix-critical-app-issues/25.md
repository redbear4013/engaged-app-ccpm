---
name: Fix Event Saving Database Errors
status: open
created: 2025-10-05T15:25:19Z
updated: 2025-10-05T15:51:25Z
github: https://github.com/redbear4013/engaged-app-ccpm/issues/25
depends_on: []
parallel: true
conflicts_with: []
priority: P0
effort: M (6-10 hours)
---

# Fix Event Saving Database Errors

## Description

Fix database errors when users swipe and save events. Users are currently unable to save events by swiping right, resulting in database constraint violations and failed operations.

## Acceptance Criteria

- [ ] Users can save events by swiping right without errors
- [ ] Error messages show specific database constraint violations
- [ ] RLS policies allow authenticated users to insert user_events
- [ ] Upsert conflict resolution works correctly

## Technical Details

- Investigate user_events table foreign key constraints
- Verify RLS policies in Supabase dashboard
- Test upsert with conflicting user_id/event_id pairs
- Add comprehensive error logging (already started)
- Files affected: `src/services/ai-matching-service.ts`, database RLS policies

## Effort Estimate

M (6-10 hours)

## Priority

P0 - Critical bug blocking core functionality

## Parallel Execution

This task can be executed in parallel with task 001 as they are independent.

## Dependencies

None

## Conflicts

None
