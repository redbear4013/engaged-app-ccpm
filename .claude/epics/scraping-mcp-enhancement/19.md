---
name: Priority 2-3 Source Adapters
status: backlog
created: 2025-10-01T01:34:04Z
updated: 2025-10-01T01:34:04Z
github: https://github.com/redbear4013/engaged-app-ccpm/issues/19
depends_on: [15]
parallel: true
conflicts_with: []
---

# Task: Priority 2-3 Source Adapters

## Description

Implement source adapters for 9 additional Priority 2-3 event sources: Studio City, MGM, AsiaWorld, HK Coliseum, MICE, Wynn, Sands, West Kowloon, and Eventbrite. Each adapter will follow the base adapter pattern established in Task 003, with source-specific selector mappings and configuration entries. These adapters can be developed in parallel with Task 006 (Monitoring Dashboard).

## Acceptance Criteria

- [ ] Studio City Event Center adapter implemented
- [ ] MGM Theater adapter implemented
- [ ] AsiaWorld-Expo adapter implemented
- [ ] Hong Kong Coliseum adapter implemented
- [ ] Macau MICE Venues adapter implemented
- [ ] Wynn Palace Theater adapter implemented
- [ ] Sands Cotai Central adapter implemented
- [ ] West Kowloon Cultural District adapter implemented
- [ ] Eventbrite Macau/HK adapter implemented
- [ ] All 9 sources configured in `config/sources.json`
- [ ] Unit tests with mocked HTML for each adapter
- [ ] Integration tests for each source
- [ ] Field coverage >80% for all sources
- [ ] Selector mappings documented

## Technical Details

**Adapter Implementation Pattern**:
- Extend `BaseAdapter` class from Task 003
- Define source-specific selector mappings
- Implement `extractEvent()` method for each source
- Handle pagination/infinite scroll where applicable
- Implement rate limiting per source requirements

**Source-Specific Considerations**:

1. **Studio City Event Center**
   - Tool: Chrome DevTools MCP (XHR capture)
   - URL: `https://www.studiocity-macau.com/en/entertainment/events`
   - Challenges: Dynamic loading, event calendar widget

2. **MGM Theater**
   - Tool: Chrome DevTools MCP
   - URL: `https://www.mgm.mo/en/entertainment/events`
   - Challenges: Multi-language support, calendar view

3. **AsiaWorld-Expo**
   - Tool: Firecrawl (fallback to DevTools)
   - URL: `https://www.asiaworld-expo.com/en/event-calendar`
   - Challenges: Multiple event types, filtering

4. **Hong Kong Coliseum**
   - Tool: Chrome DevTools MCP
   - URL: `https://www.lcsd.gov.hk/en/hkcoliseum/`
   - Challenges: Government site structure, Chinese/English

5. **Macau MICE Venues**
   - Tool: Firecrawl
   - URL: Various (multi-venue aggregation)
   - Challenges: Multiple sources, inconsistent formats

6. **Wynn Palace Theater**
   - Tool: Chrome DevTools MCP
   - URL: `https://www.wynnpalace.com/en/entertainment-and-nightlife`
   - Challenges: Similar to Venetian/Londoner patterns

7. **Sands Cotai Central**
   - Tool: Chrome DevTools MCP
   - URL: `https://www.sandscotaicentral.com/entertainment.html`
   - Challenges: Multi-venue complex, shared events

8. **West Kowloon Cultural District**
   - Tool: Chrome DevTools MCP
   - URL: `https://www.westkowloon.hk/en/whats-on`
   - Challenges: Multiple venues, diverse event types

9. **Eventbrite Macau/HK**
   - Tool: Playwright MCP (location filtering)
   - URL: `https://www.eventbrite.com/d/china--macau/events/`
   - Challenges: Infinite scroll, location filtering, dynamic content

**Configuration Schema** (`config/sources.json`):
```json
{
  "id": "studio-city",
  "name": "Studio City Event Center",
  "url": "https://www.studiocity-macau.com/en/entertainment/events",
  "priority": 2,
  "schedule": "*/4",
  "engine": "devtools",
  "capture": "xhr-first",
  "maxScrolls": 3,
  "rateLimit": 0.5,
  "timeout": 120000
}
```

## Dependencies

- [ ] Task 003: Priority 1 Source Adapters (base adapter pattern)
- [ ] Task 001: Core Infrastructure (tool selector, orchestrator)
- [ ] Task 002: Database Schema (events table)

## Effort Estimate

- Size: L
- Hours: 20-24 hours (2-3 hours per adapter)
- Parallel: true (can run parallel to Task 006)

## Definition of Done

- [ ] All 9 adapters implemented and passing tests
- [ ] Configuration entries added to `sources.json`
- [ ] Unit tests with mocked HTML responses (>80% coverage)
- [ ] Integration tests with live sources (manual validation)
- [ ] Field coverage >80% for all sources
- [ ] Selector mappings documented in adapter code
- [ ] Rate limiting configured per source
- [ ] Error handling for all adapter-specific edge cases
- [ ] Code reviewed and approved
- [ ] Documentation updated with new source details
